{"$schema":"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#","contentVersion":"1.0.0.0","parameters":{"CSSRS_LakeHouse":{"type":"string"}},"variables":{},"resources":[{"name":"Interfaces_GRH","type":"pipelines","apiVersion":"2018-06-01","properties":{"activities":[{"name":"i_pai_tab_lieu_trav","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"SqlServerSource","sqlReaderQuery":{"value":"select descr, lieu_trav, eco_off from dbo.pai_tab_lieu_trav\n","type":"Expression"},"queryTimeout":"02:00:00","partitionOption":"None","datasetSettings":{"annotations":[],"type":"SqlServerTable","schema":[],"typeProperties":{},"externalReferences":{"connection":"@pipeline().libraryVariables.database_paie"}}},"sink":{"type":"LakehouseTableSink","tableActionOption":"OverwriteSchema","partitionOption":"None","datasetSettings":{"annotations":[],"linkedService":{"name":"CSSRS_LakeHouse","properties":{"annotations":[],"type":"Lakehouse","typeProperties":{"workspaceId":"8d37cfd4-f0a8-49ee-be22-6cae29aeb3c3","artifactId":"[parameters('CSSRS_LakeHouse')]","rootFolder":"Tables"}}},"type":"LakehouseTable","schema":[],"typeProperties":{"table":"dbo_human_resources_interface_i_pai_tab_lieu_trav"}}},"enableStaging":false,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}},{"name":"i_pai_tab_stat_eng","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"SqlServerSource","sqlReaderQuery":{"value":"select stat_eng, descr as descr_stat_eng\nfrom dbo.pai_tab_stat_eng\n","type":"Expression"},"queryTimeout":"02:00:00","partitionOption":"None","datasetSettings":{"annotations":[],"type":"SqlServerTable","schema":[],"typeProperties":{},"externalReferences":{"connection":"@pipeline().libraryVariables.database_paie"}}},"sink":{"type":"LakehouseTableSink","tableActionOption":"OverwriteSchema","partitionOption":"None","datasetSettings":{"annotations":[],"linkedService":{"name":"CSSRS_LakeHouse","properties":{"annotations":[],"type":"Lakehouse","typeProperties":{"workspaceId":"8d37cfd4-f0a8-49ee-be22-6cae29aeb3c3","artifactId":"[parameters('CSSRS_LakeHouse')]","rootFolder":"Tables"}}},"type":"LakehouseTable","schema":[],"typeProperties":{"table":"dbo_human_resources_interface_i_pai_tab_stat_eng"}}},"enableStaging":false,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}},{"name":"i_pai_tab_corp_empl","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"SqlServerSource","sqlReaderQuery":{"value":"select descr, corp_empl \nfrom dbo.pai_tab_corp_empl","type":"Expression"},"queryTimeout":"02:00:00","partitionOption":"None","datasetSettings":{"annotations":[],"type":"SqlServerTable","schema":[],"typeProperties":{},"externalReferences":{"connection":"@pipeline().libraryVariables.database_paie"}}},"sink":{"type":"LakehouseTableSink","tableActionOption":"OverwriteSchema","partitionOption":"None","datasetSettings":{"annotations":[],"linkedService":{"name":"CSSRS_LakeHouse","properties":{"annotations":[],"type":"Lakehouse","typeProperties":{"workspaceId":"8d37cfd4-f0a8-49ee-be22-6cae29aeb3c3","artifactId":"[parameters('CSSRS_LakeHouse')]","rootFolder":"Tables"}}},"type":"LakehouseTable","schema":[],"typeProperties":{"table":"dbo_human_resources_interface_i_pai_tab_corp_empl"}}},"enableStaging":false,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}},{"name":"i_pai_hemp","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"SqlServerSource","sqlReaderQuery":{"value":"select matr, date_eff, lieu_trav, corp_empl, etat, stat_eng, type, ref_empl, date_fin\nfrom dbo.pai_hemp\n","type":"Expression"},"queryTimeout":"02:00:00","partitionOption":"None","datasetSettings":{"annotations":[],"type":"SqlServerTable","schema":[],"typeProperties":{},"externalReferences":{"connection":"@pipeline().libraryVariables.database_paie"}}},"sink":{"type":"LakehouseTableSink","tableActionOption":"OverwriteSchema","partitionOption":"None","datasetSettings":{"annotations":[],"linkedService":{"name":"CSSRS_LakeHouse","properties":{"annotations":[],"type":"Lakehouse","typeProperties":{"workspaceId":"8d37cfd4-f0a8-49ee-be22-6cae29aeb3c3","artifactId":"[parameters('CSSRS_LakeHouse')]","rootFolder":"Tables"}}},"type":"LakehouseTable","schema":[],"typeProperties":{"table":"dbo_human_resources_interface_i_pai_hemp"}}},"enableStaging":false,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}},{"name":"i_pai_tab_etat_empl","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"SqlServerSource","sqlReaderQuery":{"value":"select descr, etat_empl from dbo.pai_tab_etat_empl\n","type":"Expression"},"queryTimeout":"02:00:00","partitionOption":"None","datasetSettings":{"annotations":[],"type":"SqlServerTable","schema":[],"typeProperties":{},"externalReferences":{"connection":"@pipeline().libraryVariables.database_paie"}}},"sink":{"type":"LakehouseTableSink","tableActionOption":"OverwriteSchema","partitionOption":"None","datasetSettings":{"annotations":[],"linkedService":{"name":"CSSRS_LakeHouse","properties":{"annotations":[],"type":"Lakehouse","typeProperties":{"workspaceId":"8d37cfd4-f0a8-49ee-be22-6cae29aeb3c3","artifactId":"[parameters('CSSRS_LakeHouse')]","rootFolder":"Tables"}}},"type":"LakehouseTable","schema":[],"typeProperties":{"table":"dbo_human_resources_interface_i_pai_tab_etat_empl"}}},"enableStaging":false,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}},{"name":"i_pai_dos","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"SqlServerSource","sqlReaderQuery":{"value":"select\n    matr,\n    nom_legal,\n    date_nais,\n    date_deb_serv,\n    date_fin_serv,\n    date_eng,\n    date_entr,\n    nom,\n    prnom,\n    sexe,\n    etat_doss,\n    date_dern_paie\nfrom dbo.pai_dos\n\n","type":"Expression"},"queryTimeout":"02:00:00","partitionOption":"None","datasetSettings":{"annotations":[],"type":"SqlServerTable","schema":[],"typeProperties":{},"externalReferences":{"connection":"@pipeline().libraryVariables.database_paie"}}},"sink":{"type":"LakehouseTableSink","tableActionOption":"OverwriteSchema","partitionOption":"None","datasetSettings":{"annotations":[],"linkedService":{"name":"CSSRS_LakeHouse","properties":{"annotations":[],"type":"Lakehouse","typeProperties":{"workspaceId":"8d37cfd4-f0a8-49ee-be22-6cae29aeb3c3","artifactId":"[parameters('CSSRS_LakeHouse')]","rootFolder":"Tables"}}},"type":"LakehouseTable","schema":[],"typeProperties":{"table":"dbo_human_resources_interface_i_pai_dos"}}},"enableStaging":false,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}},{"name":"i_pai_dos_perc","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"SqlServerSource","sqlReaderQuery":{"value":"select matr, code_perm \nfrom dbo.pai_dos_perc\n","type":"Expression"},"queryTimeout":"02:00:00","partitionOption":"None","datasetSettings":{"annotations":[],"type":"SqlServerTable","schema":[],"typeProperties":{},"externalReferences":{"connection":"@pipeline().libraryVariables.database_paie"}}},"sink":{"type":"LakehouseTableSink","tableActionOption":"OverwriteSchema","partitionOption":"None","datasetSettings":{"annotations":[],"linkedService":{"name":"CSSRS_LakeHouse","properties":{"annotations":[],"type":"Lakehouse","typeProperties":{"workspaceId":"8d37cfd4-f0a8-49ee-be22-6cae29aeb3c3","artifactId":"[parameters('CSSRS_LakeHouse')]","rootFolder":"Tables"}}},"type":"LakehouseTable","schema":[],"typeProperties":{"table":"dbo_human_resources_interface_i_pai_dos_perc"}}},"enableStaging":false,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}},{"name":"i_pai_dos_empl","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"SqlServerSource","sqlReaderQuery":{"value":"select\n    matr,\n    date_entr,\n    lieu_trav,\n    stat_eng,  -- - indicator to filter. classification of regular posts to full or part-time employment. where if like S% - service, P% - Professional and E% - teacher\n    ind_empl_princ,  -- indicator to filter ' if primary employee indicator is 1 then true'\n    ref_empl,\n    corp_empl,  -- indicator to filter -engagement status. abbreviations do not match between CSS, so it is suggested to use the description descr AS 'etat_description'\n    etat,\n    date_dern_jr_trav,\n    date_eff,\n    mode_cour,\n    type,\n    gr_paie\nfrom dbo.pai_dos_empl\n","type":"Expression"},"queryTimeout":"02:00:00","partitionOption":"None","datasetSettings":{"annotations":[],"type":"SqlServerTable","schema":[],"typeProperties":{},"externalReferences":{"connection":"@pipeline().libraryVariables.database_paie"}}},"sink":{"type":"LakehouseTableSink","tableActionOption":"OverwriteSchema","partitionOption":"None","datasetSettings":{"annotations":[],"linkedService":{"name":"CSSRS_LakeHouse","properties":{"annotations":[],"type":"Lakehouse","typeProperties":{"workspaceId":"8d37cfd4-f0a8-49ee-be22-6cae29aeb3c3","artifactId":"[parameters('CSSRS_LakeHouse')]","rootFolder":"Tables"}}},"type":"LakehouseTable","schema":[],"typeProperties":{"table":"dbo_human_resources_interface_i_pai_dos_empl"}}},"enableStaging":false,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}},{"name":"i_pai_dos_2","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"SqlServerSource","sqlReaderQuery":{"value":"select matr, adr_electrnq_portail \nfrom dbo.pai_dos_2\n","type":"Expression"},"queryTimeout":"02:00:00","partitionOption":"None","datasetSettings":{"annotations":[],"type":"SqlServerTable","schema":[],"typeProperties":{},"externalReferences":{"connection":"@pipeline().libraryVariables.database_paie"}}},"sink":{"type":"LakehouseTableSink","tableActionOption":"OverwriteSchema","partitionOption":"None","datasetSettings":{"annotations":[],"linkedService":{"name":"CSSRS_LakeHouse","properties":{"annotations":[],"type":"Lakehouse","typeProperties":{"workspaceId":"8d37cfd4-f0a8-49ee-be22-6cae29aeb3c3","artifactId":"[parameters('CSSRS_LakeHouse')]","rootFolder":"Tables"}}},"type":"LakehouseTable","schema":[],"typeProperties":{"table":"dbo_human_resources_interface_i_pai_dos_2"}}},"enableStaging":false,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}},{"name":"i_pai_cum_budg","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"SqlServerSource","sqlReaderQuery":{"value":"select\n    matr as matricule,\n    an_budg as annee_budgetaire,\n    cum as cumulatif,\n    corp_empl as corp_empl,\n    code_pmnt_ded as code_pmnt_ded\nfrom dbo.pai_cum_budg\n\n","type":"Expression"},"queryTimeout":"02:00:00","partitionOption":"None","datasetSettings":{"annotations":[],"type":"SqlServerTable","schema":[],"typeProperties":{},"externalReferences":{"connection":"@pipeline().libraryVariables.database_paie"}}},"sink":{"type":"LakehouseTableSink","tableActionOption":"OverwriteSchema","partitionOption":"None","datasetSettings":{"annotations":[],"linkedService":{"name":"CSSRS_LakeHouse","properties":{"annotations":[],"type":"Lakehouse","typeProperties":{"workspaceId":"8d37cfd4-f0a8-49ee-be22-6cae29aeb3c3","artifactId":"[parameters('CSSRS_LakeHouse')]","rootFolder":"Tables"}}},"type":"LakehouseTable","schema":[],"typeProperties":{"table":"dbo_human_resources_interface_i_pai_cum_budg"}}},"enableStaging":false,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}},{"name":"i_identite","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"SqlServerSource","sqlReaderQuery":{"value":"select\n    cleorganisationnelle as cle_organisationnelle,\n    compteauthentification as compte_authentification,\n    nom,\n    prenom,\n    ecoles,\n    right(lieutravailprincipal, 4) as corps_emploi,\n    left(lieutravailprincipal, 3) as ecole_principale,\n    descriptioncorpsemploiprincipal as description_corps_emploi_principal\nfrom gi.identite\n","type":"Expression"},"queryTimeout":"02:00:00","partitionOption":"None","datasetSettings":{"annotations":[],"type":"SqlServerTable","schema":[],"typeProperties":{},"externalReferences":{"connection":"@pipeline().libraryVariables.database_paie"}}},"sink":{"type":"LakehouseTableSink","tableActionOption":"OverwriteSchema","partitionOption":"None","datasetSettings":{"annotations":[],"linkedService":{"name":"CSSRS_LakeHouse","properties":{"annotations":[],"type":"Lakehouse","typeProperties":{"workspaceId":"8d37cfd4-f0a8-49ee-be22-6cae29aeb3c3","artifactId":"[parameters('CSSRS_LakeHouse')]","rootFolder":"Tables"}}},"type":"LakehouseTable","schema":[],"typeProperties":{"table":"dbo_human_resources_interface_i_identite"}}},"enableStaging":false,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}}],"libraryVariables":{"serverName_Global":{"type":"String","variableName":"serverName_global","libraryName":"CSSRS_Var"},"dbName_Global_Prod":{"type":"String","variableName":"dbName_Global_Prod","libraryName":"CSSRS_Var"},"database_paie":{"type":"String","variableName":"database_paie","libraryName":"CSSRS_Var"}},"lastModifiedByObjectId":"6bfc53be-fbc3-43d4-a574-8b499da75374","lastPublishTime":"2025-06-04T18:07:52Z"},"dependsOn":[]}]}